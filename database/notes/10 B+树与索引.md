# B+树与索引

B树即平衡树（Balanced Tree），是一种适用于磁盘或其它直接存取辅助设备设计的平衡查找树。该数据结构的提出主要是为了克服平衡二叉查找树的不足。

<br>

### 二叉查找树和平衡二叉树

**平衡二叉树**：满足任何节点的两个子树的高度差最大不超过1的二叉树。

普通的二叉查找树（BST）的查找性能取决于树的高度，而树的高度取决于插入的元素以及元素插入的顺序。平衡二叉树具有较高的查找性能，但是删除或者更新节点很有可能破坏树的结构，因此需要通过多次的左旋或者右旋保证平衡性。

### B树

B树是一种树状数据结构，它能够存储数据、对其进行排序并允许以O(log n)的时间复杂度运行进行查找、顺序读取、插入和删除的数据结构。

B树可以看作是对2-3查找树的一种扩展，即他允许每个节点有M-1个子节点。

- 根节点至少有两个子节点
- 每个节点有M-1个key，并且以升序排列
- 位于M-1和M key的子节点的值位于M-1 和M key对应的Value之间
- 其它节点至少有M/2个子节点

### B+树

B+树是对B树的一种变形树，它与B树的差异在于：

- 有k个子结点的结点必然有k个关键码；
- 非叶结点仅具有索引作用，跟记录有关的信息均存放在叶结点中。
- 树的所有叶结点构成一个有序链表，可以按照关键码排序的次序遍历全部记录。