

# 代理

代理模式是常用的java设计模式，他的特征是代理类与委托类有同样的接口，代理类主要负责为委托类预处理消息、过滤消息、把消息转发给委托类，以及事后处理消息等。代理类与委托类之间通常会存在关联关系，一个代理类的对象与一个委托类的对象关联，代理类的对象本身并不真正实现服务，而是通过调用委托类的对象的相关方法，来提供特定的服务。简单的说就是，我们在访问实际对象时，是通过代理对象来访问的，代理模式就是在访问实际对象时引入一定程度的间接性，因为这种间接性，可以附加多种用途。

代理可以分为静态代理、动态代理，动态代理又可以分为 jvm的动态代理 和 cglib的动态代理。spring框架的AOP的底层就使用了动态代理的技术。

![img](https://images2015.cnblogs.com/blog/1085268/201704/1085268-20170409105440082-1652546649.jpg)

#### 静态代理和动态代理的区别

我们根据加载被代理类的时机不同，将代理分为静态代理和动态代理。如果我们在代码编译时就确定了被代理的类是哪一个，那么就可以直接使用静态代理；如果不能确定，那么可以使用类的动态加载机制，在代码运行期间加载被代理的类这就是动态代理，比如RPC框架和Spring AOP机制。
**静态代理:**由程序员创建或特定工具自动生成源代码，也就是在编译时就已经将接口，被代理类，代理类等确定下来。在程序运行之前，代理类的.class文件就已经生成。
**动态代理:** 代理类在程序运行时创建的代理方式被成为动态代理。

<br>

## 静态代理



<br>

## 动态代理







<br>

---

**参考资料**

1. [Java的三种代理模式 - 岑宇 - 博客园](https://www.cnblogs.com/cenyu/p/6289209.html)
2. [java动态代理实现与原理详细分析 - Gonjian - 博客园](https://www.cnblogs.com/gonjan-blog/p/6685611.html)