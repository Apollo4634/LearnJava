# 单例模式的7种写法

### 1. 饿汉式  

```
public class Singleton {  
     private static Singleton instance = new Singleton();  
     
     private Singleton (){
     }
     
     public static Singleton getInstance() {  
         return instance;  
     }  
 }
```

饿汉式天然符合线程安全

### 2. 懒汉式（线程不安全）  

```
public class Singleton {  
      private static Singleton instance;  
      
      private Singleton (){
      }   
      
      public static Singleton getInstance() {  
          if (instance == null) {  
              instance = new Singleton();  
          }  
          return instance;  
      }  
 }  
```

### 3. 懒汉式（线程安全）  

```
public class Singleton {  
      private static Singleton instance;  
      
      private Singleton (){
      }   
      
      public static synchronized Singleton getInstance() {  
          if (instance == null) {  
              instance = new Singleton();  
          }  
          return instance;  
      }  
 }  
```


### 4. 双重校验锁  

```
public class Singleton {  
      private static volatile Singleton instance;  
      
      private Singleton (){
      }
      
      public static synchronized Singleton getInstance() {  
          if (instance == null) {  
              instance = new Singleton();  
          }  
          return instance;  
      }  
 }  
```

### 5. 静态内部类实现  

```
public class Singleton { 
    private Singleton(){
    }
    
    public static Singleton getInstance(){  
        return SingletonHolder.sInstance;  
    }  
    
    private static class SingletonHolder {  
        private static final Singleton sInstance = new Singleton();  
    }  
}
```


### 6. 枚举实现  

```
public enum Singleton {  
     INSTANCE;  
     
     public void doSomeThing() {  
     }  
 }  
```


### 7. 容器实现  

```
public class SingletonManager { 
　　private static Map<String, Object> objMap = new HashMap<>();
　　
　　private Singleton() { 
　　}

　　public static void registerService(String key, Object instance) {
　　　　if (!objMap.containsKey(key) ) {
　　　　　　objMap.put(key, instance) ;
　　　　}
　　}

　　public static ObjectgetService(String key) {
　　　　return objMap.get(key) ;
　　}
}
```



-----
**参考资料**

1. [设计模式——单例模式(七种实现方法)](https://www.cnblogs.com/dingxiansen/p/9353254.html)
2. [github - CyC2018/CS-Notes - 设计模式.md](https://github.com/CyC2018/CS-Notes/blob/master/notes/设计模式.md#1-单例singleton)

